---
layout: post
title: "SS-week2"
date: 2017-04-27 15:48:18 +0800
comments: true
tags: Service_Security
---

# Information Theory

<!--more-->

## Information Storage

è¨Šè™Ÿåˆ†æˆ analog è·Ÿ digital

å¤§è‡´è¨è«–çš„çµæœ(åªè¨˜å¾—é€™äº›...)

| type    | pros         |
|:--------|-------------|
| digital | é›»è…¦å¯è®€ å¯é©—è­‰ æ˜“ç·¨è¼¯ |
| analog  | èƒ½ä¿å­˜è¼ƒåŸå§‹è³‡æ–™     |

2000å¹´å¾Œ digit è³‡æ–™é‡çˆ†ç‚¸æ€§æˆé•·

{% img http://media3.washingtonpost.com/wp-dyn/content/graphic/2011/02/11/GR2011021100614.jpg%}

## Information Value

### More Information?

å·¦é‚Š é‚„æ˜¯ å³é‚Š çµ¦æˆ‘å€‘æ¯”è¼ƒ**å¤š**çš„è³‡è¨Š???

{% img /images/ss/infovalue.png%}

å¹¾ä¹å¤§å®¶ä¸€è‡´èªåŒå·¦é‚Š

ä½†é‚£æ˜¯å› ç‚ºå·¦é‚Šæ˜¯æˆ‘å€‘èªå¾—çš„èªè¨€

æƒ³åƒå¦‚æœå³é‚Šæ˜¯å¦ä¸€ç¨®èªè¨€

å¯èƒ½ä¸åŒçš„éŸ³èª¿ã€å€‹æ•¸ã€è¡Œæ•¸ç­‰ç­‰éƒ½ä»£è¡¨ä¸åŒæ„ç¾©

é€™æ¨£å³é‚Šæœƒä¸æœƒä¹Ÿæ˜¯èƒ½å¸¶çµ¦æˆ‘å€‘è·Ÿå·¦é‚Šä¸€æ¨£çš„è³‡è¨Šé‡å‘¢ğŸ¤”ğŸ¤”ğŸ¤”

### Measure Information value

é‚£æˆ‘å€‘åˆå¦‚ä½•è¡¡é‡è³‡è¨Šçš„åƒ¹å€¼å‘¢?

è©¦å•ä¸‹é¢ä¸‰å€‹æŠ•æ“²ç¡¬å¹£çš„çµæœ
é‚£ä¸€å€‹sequenceæ¯”è¼ƒæœ‰åƒ¹å€¼?

{% img /images/ss/measureinfo.png%}

*Hint : éš¨ä¾¿æŒ–æ‰å…¶ä¸­ä¸€å€‹æ“²ç¡¬å¹£çš„çµæœï¼Œä½ æœ‰è¾¦æ³•å¡«å›å»å—?*

æ˜é¡¯çš„two-head coin æˆ‘å€‘å¯ä»¥ç›´æ¥å¡«Hå›å»

weighted coin æˆ‘å€‘æœƒçŒœH(H å‡ºç¾æ©Ÿç‡æ¯”è¼ƒå¤§)

è€Œfair coin æˆ‘å€‘å°±ç„¡æ³•åšå‡ºçŒœæ¸¬

#### Information Entropy
disorder, unpredictability, uncertainty of information

(è¨˜å¾—é«˜ä¸­è€å¸«èªªç†µå°±æ˜¯äº‚åº¦

ä»¥ä¸‹çš„è¨ˆç®—çš†ä»¥å¯†ç¢¼ç‚ºä¾‹

å¯ç”¨å­—å…ƒ b å€‹
å¯†ç¢¼é•·åº¦ n å€‹

å¯ç”¨å¯†ç¢¼æ•¸(combinations)

$$
  b^{n}
$$

å­˜å„²å¯†ç¢¼æ‰€éœ€è¦çš„ä½å…ƒæ•¸(bits of entropy)

$$
\log{b^{n}}
$$

#### Shannon Entropy( Entropy of given set of characters)

  * æ•´ä¸²å¯†ç¢¼ä¸­æ¯å€‹å­—çš„å¹³å‡æ¶ˆæ¯é‡

  * How many questions would we expect to ask to find an element from a set of characters?

  * charå‡ºç¾æ™‚æ‰€éœ€è¦å•çš„æ¬¡æ•¸çš„æœŸæœ›å€¼
  = æ¯å€‹charå‡ºç¾çš„æ©Ÿç‡ * å‡ºç¾æ™‚æ‰€éœ€è¦å•é¡Œæ¬¡æ•¸

  * formula

$$
H(X) = E[I(X)] = E[-\ln(P(X))]
\\
H(X) = \Sigma{P(x_i)I(x_i)} = - \Sigma{P(x_i)\log_b{P(x_i)}}, b = 2
$$

  * implement

```ruby Shannon Entropy in ruby
def entropy (str)
  e = 0
  sz = str.bytesize.to_f
  b = str.bytes
  0.upto(255) do |i|
    x = b.count(i)/sz
    if x > 0
      e += - x * (Math.log(x)/ Math.log(2))
    end
  end
  e
end
```
ä½†ç•¶æˆ‘å€‘åœ¨ç”¨Shannon Entropyä¸‹å»å°å¯†ç¢¼åšåˆ†æçš„è©±

|                            password type                            |   sample password   | bits of entropy | Shannon Enrtopy |
|:-------------------------------------------------------------------:|:-------------------:|----------------:|----------------:|
|                 length = 8, lowercase letters only                  |      cvobmsla       |           37.60 |             3.0 |
|              length = 8, lowercase + uppercase letters              |      jAcieDlq       |           45.60 |             3.0 |
|                    length = 8, letters + digits                     |      bA29Fs4f       |           47.63 |               3 |
| whole words<br>(4 words chosen at random from 2048 word dictionary) | placidmealerrorpast |              44 |            3.53 |

å¢åŠ äº†charï¼Œå¯†ç¢¼è®Šçš„æ›´è¤‡é›œï¼Œä½†ä¼¼ä¹æ²’æœ‰å¢åŠ enyropy

åè€Œæ˜¯åŸå…ˆèªç‚ºå®¹æ˜“è¢«å­—å…¸æ”»æ“Šæ³•æ”»æ“Šçš„whole word è¡¨ç¾ä¸å·®

è€Œä¸”é›–ç„¶è‹±æ•¸å­—çµ„åˆçš„bits of entropyé«˜ï¼Œä½†äººé¡ä¸æœƒåå¥½éš¨æ©Ÿçš„çµ„åˆ

å› æ­¤å¯¦éš›æœƒè¢«ç”¨çš„çµ„åˆæ•¸é‚„è¦å†ä¸‹ä¿®

åè§€whole wordçš„çµ„åˆæ•¸å°±æ˜¯çœŸå¯¦ä¸­çš„problem space -> æ²’æœ‰æ·å¾‘çŒœå¯†ç¢¼

**People who don't understand information theory and security**

åˆ¥æœŸå¾…useræœƒä½¿ç”¨éš¨æ©Ÿçµ„åˆçš„å¯†ç¢¼

(è­¯: éå»äºŒåå¹´ï¼Œæˆ‘å€‘åŠªåŠ›è®“æ¯å€‹äººç”¨äººé¡æ›´é›£è¨˜ï¼Œä½†é›»è…¦å¾ˆå¥½çŒœçš„å¯†ç¢¼)
{% img https://imgs.xkcd.com/comics/password_strength.png %}

---

å¾Œé¢æ˜¯é–‹ç™¼ç’°å¢ƒä»‹ç´¹è·Ÿä¸€äº›bit operation

æˆ‘å°±ç•¥é

ä½†è¦ç‰¹åˆ¥ç­†è¨˜ä¸€ä¸‹XOR

çœŸå€¼è¡¨å¤§å®¶éƒ½æœƒè¨˜

é‡é»æ˜¯xoræœ‰é€™å€‹ç‰¹è³ª

$$
P \oplus K = C
\\
C \oplus K = P
$$

é€™å€‹magicè®“xoråœ¨ä¸€äº›åœ°æ–¹æœ‰ç¥å¥‡åŠŸç”¨

ä¾‹å¦‚

- å…©æ•¸äº’æ›ä¸ç”¨ç¬¬ä¸‰å€‹è®Šæ•¸

```c
void swap(int *a, int *b){
  if(*a != *b) {
      *a = *a ^ *b;
      *b = *a ^ *b;
      *a = *a ^ *b;
  }
}
```
- One-time Pad Cipher(week4)

- æŸå¤©å¯„ä¾†çš„code challenge

implements function

xor product(N,M) = N ^ N+1 ... ^ M-1 ^ M

è¦æ±‚

complexity O(log(N))

mem space usage O(1)

å…¶å¯¦çœ‹åˆ°log(N)å°±å¤§æ¦‚æƒ³æ‡‰è©²æ˜¯è¦binaryä¸‹å»æ‰¾

å¾Œä¾†çœ‹åˆ°ä¸€å€‹è§£æ³•

ä»¤f(n) = xor product(0,n)

ç™¼ç¾æœ‰è¦å¾‹

0000 <- 0  [a]<br>
0001 <- 1  [1]<br>
0010 <- 3  [a+1]<br>
0011 <- 0  [0]<br>
0100 <- 4  [a]<br>
0101 <- 1  [1]<br>
0110 <- 7  [a+1]<br>

b(n) ç”¨ä¾†æŸ¥è¡¨ æ±‚å‡º xor product(0,n) è·Ÿ xor product(0,m)

å…©å€‹å†åšxor å°±æœƒè®Šæˆ xor product(n,m)

